# دليل اللغات والمواضيع

## نظرة عامة

تم إضافة دعم كامل للغات والمواضيع (Dark/Light Mode) للتطبيق:

- **اللغات المدعومة**: العربية (AR) والإنجليزية (EN)
- **المواضيع المدعومة**: وضع نهاري (Light) ووضع ليلي (Dark)
- **حفظ الإعدادات**: يتم حفظ تفضيلات المستخدم تلقائياً

## استخدام التطبيق

### 1. البدء الأول

عند تشغيل التطبيق لأول مرة:
- اللغة الافتراضية: **العربية**
- المظهر الافتراضي: **وضع نهاري (Light)**

### 2. الوصول إلى الإعدادات

1. في النافذة الرئيسية، اذهب إلى قائمة **Settings** في الأعلى
2. اختر **Settings** من القائمة المنسدلة
3. ستظهر نافذة الإعدادات

### 3. تغيير اللغة

في نافذة الإعدادات:
1. اختر اللغة المرغوبة من قائمة **Language**:
   - **العربية** (Arabic)
   - **English** (الإنجليزية)
2. اضغط **Save**
3. سيتم تحديث واجهة التطبيق تلقائياً

### 4. تغيير المظهر

في نافذة الإعدادات:
1. اختر المظهر المرغوب من قائمة **Theme**:
   - **Light Mode** (الوضع النهاري)
   - **Dark Mode** (الوضع الليلي)
2. اضغط **Save**
3. سيتم تطبيق المظهر الجديد على الفور

### 5. حفظ الإعدادات

- يتم حفظ جميع الإعدادات تلقائياً في ملف `app_settings.json`
- عند إغلاق التطبيق وإعادة تشغيله، ستكون إعداداتك محفوظة

## الملفات الرئيسية

### `translations.py`
يحتوي على جميع النصوص بـ العربية والإنجليزية

**الاستخدام**:
```python
from translations import t

label = QLabel(t('name'))  # يظهر "الاسم" بالعربية أو "Name" بالإنجليزية
```

### `themes.py`
يدير المواضيع والألوان

**الاستخدام**:
```python
from themes import get_stylesheet, set_theme

set_theme('dark')
app.setStyleSheet(get_stylesheet())
```

### `settings.py`
يدير حفظ واستعادة الإعدادات

**الاستخدام**:
```python
from settings import settings_manager

lang = settings_manager.get_language()  # 'ar' أو 'en'
settings_manager.set_language('en')
```

## ملف الإعدادات (`app_settings.json`)

يتم حفظ الإعدادات في هذا الملف:

```json
{
  "language": "ar",
  "theme": "light",
  "window_geometry": null,
  "window_state": null
}
```

## المفاتيح المترجمة الرئيسية

| المفتاح | العربية | الإنجليزية |
|---------|---------|-----------|
| title | نظام ERP المتكامل | Integrated ERP System |
| inventory | المخزون | Inventory |
| sales | المبيعات | Sales |
| add | إضافة | Add |
| edit | تعديل | Edit |
| delete | حذف | Delete |
| save | حفظ | Save |
| success | نجاح | Success |
| error | خطأ | Error |

## الألوان والأنماط

### الوضع النهاري (Light Mode)
- الخلفية: أبيض (#ffffff)
- النصوص: أسود (#000000)
- الأزرار: أزرق غامق (#1f4788)

### الوضع الليلي (Dark Mode)
- الخلفية: رمادي غامق جداً (#1e1e1e)
- النصوص: رمادي فاتح (#e0e0e0)
- الأزرار: أزرق متوسط (#2a5fa0)

## إضافة لغات جديدة

لإضافة لغة جديدة (مثل الفرنسية):

1. افتح ملف `translations.py`
2. أضف لغة جديدة في قاموس `TRANSLATIONS`:

```python
TRANSLATIONS = {
    'ar': { ... },
    'en': { ... },
    'fr': {  # إضافة الفرنسية
        'title': 'Système ERP intégré',
        'inventory': 'Inventaire',
        # ... إلخ
    }
}
```

3. أضف الخيار في نافذة الإعدادات (في `main.py`)

## نصائح وملاحظات

1. **النصوص المدمجة**: يجب استخدام `t()` لكل نص يظهر للمستخدم
2. **الأداء**: النظام محسّن ولا يؤثر على الأداء
3. **التوافق**: يعمل مع جميع منصات Windows و Linux و macOS
4. **التخصيص**: يمكن تعديل الألوان والأنماط في ملف `themes.py`

## الخطوات القادمة المقترحة

- تحديث جميع ملفات UI الأخرى (sales, purchasing, accounting, reports)
- إضافة لغات إضافية
- إضافة مواضيع مخصصة أكثر
- دعم توجيه RTL (Right-to-Left) كامل للعربية
